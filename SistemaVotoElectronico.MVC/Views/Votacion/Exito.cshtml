@{
    ViewData["Title"] = "Voto Registrado";
    // Usamos el Layout vacío para que no salga el menú
    Layout = "~/Views/Shared/_LayoutVotacion.cshtml";
}

<div class="container d-flex flex-column justify-content-center align-items-center vh-100 text-center">

    <div class="card shadow-lg border-0 p-5 animate__animated animate__zoomIn">
        <div class="mb-4">
            <div style="font-size: 6rem;">✅</div>
        </div>

        <h1 class="fw-bold text-success mb-3">¡Voto Guardado Exitosamente!</h1>
        <p class="lead text-muted mb-4">Su participación ha sido registrada y encriptada.</p>

        <hr class="mx-auto w-50 my-4">

        <div class="alert alert-warning text-start p-4 shadow-sm animate__animated animate__fadeInUp animate__delay-1s" style="max-width: 600px;">
            <div class="d-flex align-items-center">
                <div class="fs-1 me-3">📜</div>
                <div>
                    <h5 class="alert-heading fw-bold mb-1">¿Necesita su Certificado de Votación?</h5>
                    <p class="mb-0 small text-dark">
                        Diríjase Donde Consulto su lugar de votación y <strong>busque su cédula nuevamente</strong>.
                        El sistema habilitará la descarga de su documento oficial.
                    </p>
                </div>
            </div>
        </div>

        <div class="mt-4">
            <p class="text-muted mb-2">Habilitando siguiente votante en:</p>
            <h2 class="display-4 fw-bold text-primary">
                <span id="segundos">10</span> seg
            </h2>
        </div>

        <div class="mt-4">
            <a href="@Url.Action("Index", "Votacion")" class="btn btn-outline-primary px-4 rounded-pill">
                🔄 Volver inmediatamente
            </a>
        </div>
    </div>
</div>

<script>
    // Inicializamos en 10 segundos
    let tiempo = 10;
    const contador = document.getElementById("segundos");

    const intervalo = setInterval(() => {
        tiempo--;
        // Actualizamos el número en pantalla
        if (contador) contador.innerText = tiempo;

        if (tiempo <= 0) {
            clearInterval(intervalo);
            // Redirigir a la pantalla de votación (donde se pide Token)
            window.location.replace('@Url.Action("Index", "Votacion")');
        }
    }, 1000);
</script>